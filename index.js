(()=>{var o={72:(o,t,r)=>{r.d(t,{$I:()=>a,Ao:()=>y,B4:()=>K,CA:()=>T,DY:()=>_,Fr:()=>l,Gf:()=>g,Gi:()=>b,K$:()=>w,K5:()=>S,NG:()=>v,Oc:()=>M,PB:()=>c,QU:()=>d,QV:()=>x,T1:()=>h,ay:()=>u,fL:()=>p,fS:()=>f,lF:()=>i,tx:()=>k,x_:()=>A,zn:()=>s});var n=r(886),e=r(39);const c=.3,s=24,i=16,a=[10,24],l=540,u=540,d=()=>a[0]*i,_=()=>a[1]*i,f=()=>{const[o,t]=[window.innerWidth,window.innerHeight];return Math.min(o/l,t/u)},v=(0,n.dw)(d(),_());v.imageSmoothingEnabled=!1;const $=(0,e.P)(!1),m=(0,e.P)(!1),g=(0,e.P)(1e3),p=(0,e.P)(50),h=()=>$.o||m.o,y=()=>$.o,b=(0,e.P)(0),w=(0,e.P)(0),x=(0,e.P)(v),k=(0,e.P)(0),M=(0,e.P)(0),S=(0,e.P)(0),K=(0,e.P)(0),A=(0,e.P)([0,0]),T=(0,e.P)(0);w.u((()=>{$._(!0),m._(!0)})),b.u((()=>{$._(!1),m._(!1)})),M.u((()=>{m._(!1)})),S.u((()=>{m._(!0)}))},336:(o,t,r)=>{r.d(t,{N:()=>l});var n=r(886),e=r(544),c=r(72),s=(r(453),r(183)),i=r(426),a=r(983);class l extends n.qT{constructor(){super();const o=this;o.$.v((0,s.oq)((0,s.oV)(s.RU),(0,s.Ng)(0),(0,s.vJ)((0,s.Mp)(50)),(0,s.q1)(i.J3),(0,s.Bw)((0,s.Q9)(c.Fr)),(0,s.b9)((0,s.Q9)(c.ay)),(0,s.Jq)(s.Wt)),(0,s.v7)("canvas")((0,s.oV)(s.Zz),(0,s.Ng)(0),(0,s.vJ)((0,s.Mp)(50)),(0,s.q1)(i.Wf),(0,s.QK)((0,s.ax)(-50,0)),(0,s.d3)((0,s.Q9)(1),s.Bm,i.FD),(0,s.Mt)(s.mW),(0,s.Nc)(s.YM)));const t=(0,e.h)(300,(()=>{const t=(0,c.fS)(),r=(0,s.QK)((0,s.ax)(-50,0),(0,s.ZC)(t));o.$.m(r)}));t(),window.addEventListener("resize",t),o.$.g(new a.D),o.$.g(c.NG.canvas),document.title="color-blocks-drop"}}(0,n.cq)(l,o.id)},983:(o,t,r)=>{r.d(t,{D:()=>c});var n=r(653),e=r(886);class c extends e.qT{constructor(){super(),this.$.p(n.i`:host{position:absolute;top:0;left:0;width:100%;height:100%;}`)}}(0,e.cq)(c,o.id)},453:(o,t,r)=>{r(190)},190:(o,t,r)=>{r.d(t,{E:()=>f});var n=r(653),e=r(586);let c=0;const s=o=>`${o}s`,i=o=>`brightness(${o}%)`,a=[],l=o=>{const t="--v"+c++;return a.push([t,o]),t},u={k:l((0,e.J)(0,0,0)),M:l((0,e.J)(0,0,2)),K:l((0,e.J)(0,0,4)),A:l((0,e.J)(0,0,6)),q:l((0,e.J)(0,0,8)),B:l((0,e.J)(0,0,12)),C:l((0,e.J)(0,0,16)),F:l((0,e.J)(0,0,24)),W:l((0,e.J)(0,0,32)),j:l((0,e.J)(0,0,40)),G:l((0,e.J)(0,0,54)),R:l((0,e.J)(0,0,72)),V:l((0,e.J)(0,0,100)),Y:l((0,e.J)(60,17,75)),H:l((0,e.J)(60,29,84)),X:l((0,e.J)(60,9,50)),oo:l((0,e.J)(0,0,0,.75)),ro:l((0,e.J)(0,0,72,.3)),no:l((0,e.J)(43,74,49)),eo:l((0,e.J)(0,100,27)),co:l((0,e.J)(0,100,10)),so:l((0,e.J)(0,100,67)),io:l((0,e.J)(118,71,27)),ao:l((0,e.J)(118,71,10)),lo:l((0,e.J)(118,57,76)),uo:l((0,e.J)(200,80,35)),do:l((0,e.J)(200,45,30)),_o:l((0,e.J)(193,39,12)),fo:l(s(.025)),vo:l(s(.075)),$o:l(s(.15)),mo:l(s(.3)),po:l(s(.4)),ho:l(s(.8)),yo:l(i(90)),bo:l(i(100)),wo:l(i(110)),xo:l(i(120))},d=a.reduce(((o,[t,r])=>o+`${t}:${r};`),""),_=o=>`var(${o(u)})`,f=o=>getComputedStyle(document.body).getPropertyValue(o(u));(0,n.l)(n.i`:root{${d}}body{background-color:${_((o=>o.q))};color:${_((o=>o.F))};position:fixed;top:0;left:0;right:0;bottom:0;margin:0;}::-webkit-scrollbar{width:10px;height:10px;background-color:${_((o=>o.M))};}::-webkit-scrollbar-thumb{background-color:${_((o=>o.B))};border:2px solid ${_((o=>o.M))};}::-webkit-scrollbar-corner{background-color:${_((o=>o.M))};}`)},810:(o,t,r)=>{r.d(t,{S:()=>e,b:()=>n});const n=(o,t)=>new Array(o).fill(t),e=(o,t)=>o.forEach(t)},653:(o,t,r)=>{r.d(t,{i:()=>e,l:()=>c});var n=r(810);const e=(o,...t)=>{let r="";return(0,n.S)(o,((o,n)=>{r+=o+(t[n]||"")})),r},c=o=>{const t=document.createElement("style");t.innerHTML=o,document.head.append(t)}},426:(o,t,r)=>{r.d(t,{FD:()=>s,J3:()=>c,Wf:()=>e});var n=r(586);const e=(0,n.J)(0,0,4),c=(0,n.J)(0,0,8),s=(0,n.J)(0,0,12)},183:(o,t,r)=>{r.d(t,{oq:()=>B,v7:()=>D,q1:()=>x,d3:()=>A,Mt:()=>T,b9:()=>M,Nc:()=>q,vJ:()=>w,oV:()=>y,Zz:()=>f,RU:()=>v,Bm:()=>$,mW:()=>m,YM:()=>g,Wt:()=>p,Ng:()=>b,QK:()=>S,Jq:()=>K,Mp:()=>l,Q9:()=>a,ZC:()=>_,JD:()=>u,ax:()=>d,Bw:()=>k});const n=o=>(...t)=>t.join(o),e=n(""),c=n(" "),s=(n(","),n(";"),n(":"),n("-"),o=>(...t)=>c(...t.map((t=>t+o)))),i=((o="px")=>(t,r)=>`translate(${t+o}, ${r+o})`)("%"),a=s("px"),l=s("%"),u=(s("rem"),s("em"),s("fr"),s("s"),s(""),e),d=i,_=o=>`scale(${o})`,f="absolute",v="fixed",$="inset",m="none",g="pixelated",p="top",h=o=>(...t)=>{return`${r=o,String(r).replace(/[A-Z]/g,"-$&").toLowerCase()}:${c(...t)};`;var r},y=h("position"),b=h("top"),w=h("left"),x=h("backgroundColor"),k=h("width"),M=h("height"),S=(h("boxShadow"),h("transform")),K=h("transformOrigin"),A=h("border"),T=h("borderTop"),q=h("imageRendering"),J=o=>(...t)=>`${o}{${e(...t)}}`,B=J(":host"),D=o=>J(`::slotted(${o})`)},886:(o,t,r)=>{r.d(t,{cq:()=>g,dw:()=>f,qT:()=>m});var n=r(653),e=r(183),c=r(203),s=r(39);let i=o=>o.map((o=>(o=>o&&!0)(o)?o:(o=>null!=o?String(o):"")(o)));function a(o){return t=>{const r=document.createElement(o);return t&&r.append(...i(t)),r}}a("span");const l=a("head"),u=a("style"),d=a("slot"),_=a("canvas"),f=(o=64,t)=>{const r=_().getContext("2d");return r&&(r.canvas.width=o,r.canvas.height=t||o,r.imageSmoothingEnabled=!1),r},v=(0,c.U)(),$=o=>`${o}px`;class m extends HTMLElement{constructor(...o){super();const t=this,r=t.attachShadow({mode:"open"});t.$=(o=>{const t=(0,s.P)(!1),r=l(),c=d(),a=o.onclick,_=o=>r.appendChild(o);return{ko:t,Mo:r,So:c,Ko:t=>{t&&o.setAttribute("gui-id",t)},To:a,g:(...t)=>{o.append(...i(t))},qo:(t,r=$)=>{o.style.width=r(t)},Jo:(t,r,n=$)=>{o.style.transform=`translate(${n(t)},${n(r)})`},Bo:_,p:o=>_(u([o])),Do:o=>_(u([`:host{${o}}`])),Oo:o=>_(u([o(n.i)])),Po:(t,r)=>{var n;if(!(null===(n=o.shadowRoot)||void 0===n?void 0:n.styleSheets))return;const e=Array.from(o.shadowRoot.styleSheets).find((o=>o.ownerNode===t));e&&(e.disabled=!r)},v:(...o)=>_(u([(0,e.JD)(...o)])),m:(...t)=>{var r;r=(0,e.JD)(...t),o.style.cssText=r}}})(t),r.append(t.$.Mo,t.$.So),t.$.g(...o),t.$.Do(n.i`display:block;`),t.disconnectedCallback=()=>t.$.ko._(!1),t.connectedCallback=()=>t.$.ko._(!0),t.$.Ko(v.get(t.tagName.toLowerCase()))}}const g=((o=0,t=(()=>"ui-"+o++))=>(o,r="",n=t())=>{v.set(n,r||o.name),customElements.define(n,o)})();g(m)},586:(o,t,r)=>{r.d(t,{J:()=>n});const n=(...[o=0,t=0,r=0,n=1])=>`hsla(${o},${t}%,${r}%,${n})`},203:(o,t,r)=>{r.d(t,{U:()=>n,t:()=>e});const n=()=>new Map,e=()=>new Set},39:(o,t,r)=>{r.d(t,{P:()=>e});var n=r(810);const e=o=>{const t=[],r=[],e=o=>(t.push(o),{Qo:()=>{r.push(o)}}),c=()=>{(0,n.S)(t,(t=>t(o))),r.length>0&&((0,n.S)(r,(o=>{const r=t.indexOf(o);r>=0&&t.splice(r,1)})),r.length=0)},s=t=>{o=t,c()};return{u:e,Co:c,_:s,Eo:()=>o,Fo:t=>s(t(o)),No:o=>{const t=e((r=>{o(r),t.Qo()}))},get o(){return o}}}},544:(o,t,r)=>{r.d(t,{h:()=>n});const n=(o,t)=>{let r=!1,n=null;const e=()=>{n?(t(...n),n=null,setTimeout(e,o)):r=!1};return(...c)=>{r?n=c:(t(...c),r=!0,setTimeout(e,o))}}}},t={};function r(n){var e=t[n];if(void 0!==e)return e.exports;var c=t[n]={id:n,exports:{}};return o[n](c,c.exports,r),c.exports}r.d=(o,t)=>{for(var n in t)r.Wo(t,n)&&!r.Wo(o,n)&&Object.defineProperty(o,n,{Zo:!0,get:t[n]})},r.Wo=(o,t)=>Object.prototype.hasOwnProperty.call(o,t),(()=>{const o=requestAnimationFrame;var t=r(72);const n=o=>{o.clearRect(0,0,...(o=>[o.canvas.width,o.canvas.height])(o))};var e=r(886);const c=(o,t)=>{if(0===t)return;const r=o.length;for(let t=0;t<r;++t)for(let r=0;r<t;++r)[o[r][t],o[t][r]]=[o[t][r],o[r][t]];if(t>0)for(let t=0;t<r;t++)o[t].reverse();t<0&&o.reverse()};var s=r(586),i=r(810);const a=t.lF,l=(0,e.dw)(a),u=.5*a,d=(0,e.dw)(a),_=[0,0,0,0].map(((o,t)=>(0,s.J)(0,0,100-25*t,1))),f=[[[0,0],[a,0]],[[0,a],[0,0]],[[a,0],[a,a]],[[a,a],[0,a]]];(0,i.S)(f,((o,t)=>{d.fillStyle=_[t],d.beginPath(),d.moveTo(u,u),(0,i.S)(o,(([o,t])=>{d.lineTo(o,t)})),d.lineTo(u,u),d.fill()})),l.lineJoin="miter",l.lineWidth=8,l.miterLimit=10,l.strokeStyle=d.createPattern(d.canvas,"no-repeat"),l.moveTo(0,a),(0,i.S)([...f[0],...f[3]],(([o,t])=>{l.lineTo(o,t)})),l.stroke();const v=l.canvas;var $;!function(o){o[o.T=0]="T",o[o.L=1]="L",o[o.J=2]="J",o[o.S=3]="S",o[o.Z=4]="Z",o[o.O=5]="O",o[o.I=6]="I"}($||($={}));const m=[[[1,1,1],[0,1,0],[0,0,0]],[[0,1,0],[0,1,0],[0,1,1]],[[0,1,0],[0,1,0],[1,1,0]],[[0,1,1],[1,1,0],[0,0,0]],[[1,1,0],[0,1,1],[0,0,0]],[[1,1],[1,1]],[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]],g=[...m],p=g.length,h=t.lF+2*t.zn,y=h/2-t.lF/2,b=[],w=m.length,x=360/w|0,k=o=>t=>(0,s.J)(t*x,80,45,o),M=k(1),S=k(t.PB),K=(o,r)=>{const n=(0,e.dw)(h);return n.shadowBlur=t.zn,n.fillStyle=o,n.shadowColor=r,n.fillRect(y,y,t.lF,t.lF),n.save(),n.globalCompositeOperation="overlay",n.drawImage(v,y,y),n.restore(),n.canvas};for(let o=0;o<w;o++)b[o]=K(M(o),S(o));const A=(o,r,n,e)=>o.drawImage(b[r],...((o,r)=>[r*t.lF-y,o*t.lF-y])(e,n));var T=r(190),q=r(203),J=function(o,t,r,n){return new(r||(r=Promise))((function(e,c){function s(o){try{a(n.next(o))}catch(o){c(o)}}function i(o){try{a(n.throw(o))}catch(o){c(o)}}function a(o){var t;o.done?e(o.value):(t=o.value,t instanceof r?t:new r((function(o){o(t)}))).then(s,i)}a((n=n.apply(o,t||[])).next())}))};let B=[],D=(0,t.QU)(),O=(0,t.DY)(),P=(0,e.dw)(D,O),Q=(0,e.dw)(D,1),C=(0,e.dw)(D,O),E=(0,e.dw)(D,O),F=t.$I[1]-20,N=0;Q.strokeStyle=(0,T.E)((o=>o.so)),P.strokeStyle=(0,T.E)((o=>o.M)),P.fillStyle=(0,T.E)((o=>o.K));for(let o=0;o<t.$I[1];o++){B[o]=[];for(let r=0;r<t.$I[0];r++)B[o][r]=-1}const W=(o,t=0,r=B.length)=>{n(o);for(let n=t;n<r;n++)for(let t=0;t<B[n].length;t++){const r=B[n][t];r>=0&&A(o,r,t,n)}},Z=(o,t)=>{var r,n;return[void 0===B[o],void 0===(null===(r=B[o])||void 0===r?void 0:r[t]),(null===(n=B[o])||void 0===n?void 0:n[t])>=0].some(Boolean)},j=o=>{o.drawImage(P.canvas,0,0),o.drawImage(Q.canvas,0,F*t.lF),o.drawImage(C.canvas,0,0),o.drawImage(E.canvas,0,N)};(()=>{const o=t.lF;P.fillRect(0,0,D,O);for(let r=1;r<t.$I[1];r++){const n=r*o;P.moveTo(0,n),P.lineTo(t.$I[0]*o,n)}for(let r=1;r<t.$I[0];r++){const n=r*o;P.moveTo(n,0),P.lineTo(n,t.$I[1]*o)}P.stroke()})(),Q.moveTo(0,0),Q.lineTo(t.$I[0]*t.lF,0),Q.stroke(),t.QV.u(j),t.Gi.u((()=>{j(t.NG)}));const z=new(r(336).N);document.body.append(z),(()=>{const r=(o=>{let t=performance.now();return(r=t)=>{let n=performance.now();return t=r,!(t>n||(t=n+o,0))}})(t.Gf.o),s=()=>{o(s),(0,t.T1)()&&r()&&t.tx.Co(),(0,t.Ao)()&&t.QV.Co()};t.B4.u((()=>r(performance.now()+t.Gf.o))),t.K5.u((()=>r(performance.now()+t.Gf.o))),(()=>{const o=(0,q.U)();o.set("KeyA",-1),o.set("KeyD",1);const r=(0,q.U)();r.set("KeyS",1);const n=(0,q.U)();n.set("Space",1);const e=(0,q.U)();e.set("KeyW",1),e.set("KeyQ",-1),e.set("KeyE",1);let c=0;window.addEventListener("keyup",(({code:s,timeStamp:i})=>{if(!(0,t.T1)()||c>i)return;c=i+t.fL.o;const a=[o,r,e,n].map((o=>o.get(s)));((o,r,n,e)=>{var c;(o||r)&&t.x_.Fo((c=[o||0,r||0],o=>(o[0]=c[0],o[1]=c[1],o))),n&&t.CA._(n),e&&t.B4._(0)})(...a)}))})(),(()=>{const r=(0,e.dw)((0,t.QU)(),(0,t.DY)());let s=0,a=0,l=0,u=[];const d=()=>((o,t,r)=>{for(let n=o.length,e=0;e<n;e++)for(let c=0;c<n;c++){const n=o[e][c],s=Z(r+e,t+c);if(n&&s)return!0}return!1})(u,s,a),_=()=>{n(r);const o=u.length;if(o)for(let t=0;t<o;t++)for(let n=0;n<o;n++)u[t][n]&&A(r,l,n+s,t+a)},f=()=>{let r=!0;return a++,d()&&(a--,((r,e,c,s)=>{J(void 0,void 0,void 0,(function*(){const a=(0,q.t)();for(let o=0;o<r.length;o++)for(let t=0;t<r.length;t++){const n=t+c,i=o+s;r[o][t]&&(B[i][n]=e,A(C,e,n,i),a.add(i))}const l=[];if(a.forEach((o=>{B[o].every((o=>o>=0))&&l.push(o)})),(()=>{for(let o=0,t=B[F].length;o<t;o++)if(B[F][o]>=0)return!0;return!1})())return t.Gi.Co();t.Oc.Co(),yield(r=>J(void 0,void 0,void 0,(function*(){const e=r.length;if(!e)return Promise.resolve();const c=r[0],s=r[e-1],a=t.lF*e;W(E,0,c),W(C,s+1);const l=(0,i.b)(e,[]).map((()=>(0,i.b)(t.$I[0],-1)));B.splice(c,e),B.unshift(...l);let u=0,d=4,_=performance.now(),f=0;return new Promise((t=>{const r=e=>{if(d<=0)return N=0,n(E),t();o(r),f=e-_,_=e,u+=.98*f,N+=u/1e3*f,N>=a&&(N=a,u*=-.6,d--)};o(r)}))})))(l),W(C),t.K5.Co()}))})(u,l,s,a),r=!1),_(),r},v=()=>{[l,u]=((o=((o=0,t=100)=>Math.floor(((o,t,r)=>Math.min(t,Math.max(o,r)))(o,t,o+Math.random()*t)))(0,p))=>{return[o,(t=g[o],t.map((o=>o.slice())))];var t})(),s=t.$I[0]/2-u.length/2|0,a=0,_()};t.x_.u((([o,t])=>{if(s+=o,a+=t,d())return s-=o,void(a-=t);_()})),t.tx.u((()=>{f()})),t.QV.u((o=>{o.drawImage(r.canvas,0,0)})),t.CA.u((o=>{c(u,o);const t=s,r=a,n=u.length;let e=1,i=0;for(;d()&&i<n;){for(;d()&&e<n;)s+=e,e=-((l=e)+Math.sign(l));d()&&i<n&&(i++,a++,e=1,s=t)}var l;if(d())return s=t,a=r,void c(u,-o);_()})),t.B4.u((()=>{for(;f(););})),t.K$.u(v),t.Oc.u((()=>{n(r),u=[]})),t.K5.u((()=>{v()}))})(),o(s),t.K$.Co()})()})()})();